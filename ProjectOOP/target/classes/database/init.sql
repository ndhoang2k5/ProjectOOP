-- Tạo database và sử dụng
create DATABASE  lib;
USE lib;

-- 1. Books (không auto increment)
CREATE TABLE Books (
    bookID INT PRIMARY KEY,
    bookName VARCHAR(255) NOT NULL,
    author VARCHAR(100) NOT NULL,
    bookQuantity INT NOT NULL CHECK (bookQuantity >= 0)
);

-- 2. Students (không auto increment)
CREATE TABLE Students (
    studentID INT PRIMARY KEY,
    studentName VARCHAR(100) NOT NULL,
    studentAge INT,
    studentEmail VARCHAR(100) UNIQUE
);

-- 3. BorrowRecords
CREATE TABLE BorrowRecords (
    recordId INT PRIMARY KEY AUTO_INCREMENT,
    studentId INT NOT NULL,
    bookId INT NOT NULL,
    borrowDate DATE NOT NULL,
    returnDate DATE,
    
    -- SỬA LẠI: Dùng đúng tên cột `studentId` (chữ d thường)
    -- THÊM `ON DELETE CASCADE` cho Student
    CONSTRAINT FK_BorrowRecords_Student 
        FOREIGN KEY (studentId) REFERENCES Students(studentID)
        ON DELETE CASCADE,
    
    -- SỬA LẠI: Dùng đúng tên cột `bookId` (chữ d thường)
    -- THÊM `ON DELETE CASCADE` cho Book
    CONSTRAINT FK_BorrowRecords_Book 
        FOREIGN KEY (bookId) REFERENCES Books(bookID)
        ON DELETE CASCADE
);

-- Insert dữ liệu vào Books
INSERT INTO Books (bookID, bookName, author, bookQuantity) VALUES
(1, 'Book 1', 'Author 1', 11),
(2, 'Book 2', 'Author 2', 12),
(3, 'Book 3', 'Author 3', 13),
(4, 'Book 4', 'Author 4', 14),
(5, 'Book 5', 'Author 5', 15),
(6, 'Book 6', 'Author 6', 16),
(7, 'Book 7', 'Author 7', 17),
(8, 'Book 8', 'Author 8', 18),
(9, 'Book 9', 'Author 9', 19),
(10, 'Book 10', 'Author 10', 20),
(11, 'Book 11', 'Author 11', 21),
(12, 'Book 12', 'Author 12', 22),
(13, 'Book 13', 'Author 13', 23),
(14, 'Book 14', 'Author 14', 24),
(15, 'Book 15', 'Author 15', 25),
(16, 'Book 16', 'Author 16', 26),
(17, 'Book 17', 'Author 17', 27),
(18, 'Book 18', 'Author 18', 28),
(19, 'Book 19', 'Author 19', 29),
(20, 'Book 20', 'Author 20', 10),
(21, 'Book 21', 'Author 21', 11),
(22, 'Book 22', 'Author 22', 12),
(23, 'Book 23', 'Author 23', 13),
(24, 'Book 24', 'Author 24', 14),
(25, 'Book 25', 'Author 25', 15),
(26, 'Book 26', 'Author 26', 16),
(27, 'Book 27', 'Author 27', 17),
(28, 'Book 28', 'Author 28', 18),
(29, 'Book 29', 'Author 29', 19),
(30, 'Book 30', 'Author 30', 20),
(31, 'Book 31', 'Author 31', 21),
(32, 'Book 32', 'Author 32', 22),
(33, 'Book 33', 'Author 33', 23),
(34, 'Book 34', 'Author 34', 24),
(35, 'Book 35', 'Author 35', 25),
(36, 'Book 36', 'Author 36', 26),
(37, 'Book 37', 'Author 37', 27),
(38, 'Book 38', 'Author 38', 28),
(39, 'Book 39', 'Author 39', 29),
(40, 'Book 40', 'Author 40', 10),
(41, 'Book 41', 'Author 41', 11),
(42, 'Book 42', 'Author 42', 12),
(43, 'Book 43', 'Author 43', 13),
(44, 'Book 44', 'Author 44', 14),
(45, 'Book 45', 'Author 45', 15),
(46, 'Book 46', 'Author 46', 16),
(47, 'Book 47', 'Author 47', 17),
(48, 'Book 48', 'Author 48', 18),
(49, 'Book 49', 'Author 49', 19),
(50, 'Book 50', 'Author 50', 20),
(51, 'Book 51', 'Author 51', 21),
(52, 'Book 52', 'Author 52', 22),
(53, 'Book 53', 'Author 53', 23),
(54, 'Book 54', 'Author 54', 24),
(55, 'Book 55', 'Author 55', 25),
(56, 'Book 56', 'Author 56', 26),
(57, 'Book 57', 'Author 57', 27),
(58, 'Book 58', 'Author 58', 28),
(59, 'Book 59', 'Author 59', 29),
(60, 'Book 60', 'Author 60', 10),
(61, 'Book 61', 'Author 61', 11),
(62, 'Book 62', 'Author 62', 12),
(63, 'Book 63', 'Author 63', 13),
(64, 'Book 64', 'Author 64', 14),
(65, 'Book 65', 'Author 65', 15),
(66, 'Book 66', 'Author 66', 16),
(67, 'Book 67', 'Author 67', 17),
(68, 'Book 68', 'Author 68', 18),
(69, 'Book 69', 'Author 69', 19),
(70, 'Book 70', 'Author 70', 20),
(71, 'Book 71', 'Author 71', 21),
(72, 'Book 72', 'Author 72', 22),
(73, 'Book 73', 'Author 73', 23),
(74, 'Book 74', 'Author 74', 24),
(75, 'Book 75', 'Author 75', 25),
(76, 'Book 76', 'Author 76', 26),
(77, 'Book 77', 'Author 77', 27),
(78, 'Book 78', 'Author 78', 28),
(79, 'Book 79', 'Author 79', 29),
(80, 'Book 80', 'Author 80', 10),
(81, 'Book 81', 'Author 81', 11),
(82, 'Book 82', 'Author 82', 12),
(83, 'Book 83', 'Author 83', 13),
(84, 'Book 84', 'Author 84', 14),
(85, 'Book 85', 'Author 85', 15),
(86, 'Book 86', 'Author 86', 16),
(87, 'Book 87', 'Author 87', 17),
(88, 'Book 88', 'Author 88', 18),
(89, 'Book 89', 'Author 89', 19),
(90, 'Book 90', 'Author 90', 20),
(91, 'Book 91', 'Author 91', 21),
(92, 'Book 92', 'Author 92', 22),
(93, 'Book 93', 'Author 93', 23),
(94, 'Book 94', 'Author 94', 24),
(95, 'Book 95', 'Author 95', 25),
(96, 'Book 96', 'Author 96', 26),
(97, 'Book 97', 'Author 97', 27),
(98, 'Book 98', 'Author 98', 28),
(99, 'Book 99', 'Author 99', 29),
(100, 'Book 100', 'Author 100', 10);

INSERT INTO Students (studentID, studentName, studentAge, studentEmail) VALUES
(1, 'Student 1', 19, 'student1@example.com'),
(2, 'Student 2', 20, 'student2@example.com'),
(3, 'Student 3', 21, 'student3@example.com'),
(4, 'Student 4', 22, 'student4@example.com'),
(5, 'Student 5', 23, 'student5@example.com'),
(6, 'Student 6', 24, 'student6@example.com'),
(7, 'Student 7', 25, 'student7@example.com'),
(8, 'Student 8', 26, 'student8@example.com'),
(9, 'Student 9', 27, 'student9@example.com'),
(10, 'Student 10', 18, 'student10@example.com'),
(11, 'Student 11', 19, 'student11@example.com'),
(12, 'Student 12', 20, 'student12@example.com'),
(13, 'Student 13', 21, 'student13@example.com'),
(14, 'Student 14', 22, 'student14@example.com'),
(15, 'Student 15', 23, 'student15@example.com'),
(16, 'Student 16', 24, 'student16@example.com'),
(17, 'Student 17', 25, 'student17@example.com'),
(18, 'Student 18', 26, 'student18@example.com'),
(19, 'Student 19', 27, 'student19@example.com'),
(20, 'Student 20', 18, 'student20@example.com'),
(21, 'Student 21', 19, 'student21@example.com'),
(22, 'Student 22', 20, 'student22@example.com'),
(23, 'Student 23', 21, 'student23@example.com'),
(24, 'Student 24', 22, 'student24@example.com'),
(25, 'Student 25', 23, 'student25@example.com'),
(26, 'Student 26', 24, 'student26@example.com'),
(27, 'Student 27', 25, 'student27@example.com'),
(28, 'Student 28', 26, 'student28@example.com'),
(29, 'Student 29', 27, 'student29@example.com'),
(30, 'Student 30', 18, 'student30@example.com'),
(31, 'Student 31', 19, 'student31@example.com'),
(32, 'Student 32', 20, 'student32@example.com'),
(33, 'Student 33', 21, 'student33@example.com'),
(34, 'Student 34', 22, 'student34@example.com'),
(35, 'Student 35', 23, 'student35@example.com'),
(36, 'Student 36', 24, 'student36@example.com'),
(37, 'Student 37', 25, 'student37@example.com'),
(38, 'Student 38', 26, 'student38@example.com'),
(39, 'Student 39', 27, 'student39@example.com'),
(40, 'Student 40', 18, 'student40@example.com'),
(41, 'Student 41', 19, 'student41@example.com'),
(42, 'Student 42', 20, 'student42@example.com'),
(43, 'Student 43', 21, 'student43@example.com'),
(44, 'Student 44', 22, 'student44@example.com'),
(45, 'Student 45', 23, 'student45@example.com'),
(46, 'Student 46', 24, 'student46@example.com'),
(47, 'Student 47', 25, 'student47@example.com'),
(48, 'Student 48', 26, 'student48@example.com'),
(49, 'Student 49', 27, 'student49@example.com'),
(50, 'Student 50', 18, 'student50@example.com'),
(51, 'Student 51', 19, 'student51@example.com'),
(52, 'Student 52', 20, 'student52@example.com'),
(53, 'Student 53', 21, 'student53@example.com'),
(54, 'Student 54', 22, 'student54@example.com'),
(55, 'Student 55', 23, 'student55@example.com'),
(56, 'Student 56', 24, 'student56@example.com'),
(57, 'Student 57', 25, 'student57@example.com'),
(58, 'Student 58', 26, 'student58@example.com'),
(59, 'Student 59', 27, 'student59@example.com'),
(60, 'Student 60', 18, 'student60@example.com'),
(61, 'Student 61', 19, 'student61@example.com'),
(62, 'Student 62', 20, 'student62@example.com'),
(63, 'Student 63', 21, 'student63@example.com'),
(64, 'Student 64', 22, 'student64@example.com'),
(65, 'Student 65', 23, 'student65@example.com'),
(66, 'Student 66', 24, 'student66@example.com'),
(67, 'Student 67', 25, 'student67@example.com'),
(68, 'Student 68', 26, 'student68@example.com'),
(69, 'Student 69', 27, 'student69@example.com'),
(70, 'Student 70', 18, 'student70@example.com'),
(71, 'Student 71', 19, 'student71@example.com'),
(72, 'Student 72', 20, 'student72@example.com'),
(73, 'Student 73', 21, 'student73@example.com'),
(74, 'Student 74', 22, 'student74@example.com'),
(75, 'Student 75', 23, 'student75@example.com'),
(76, 'Student 76', 24, 'student76@example.com'),
(77, 'Student 77', 25, 'student77@example.com'),
(78, 'Student 78', 26, 'student78@example.com'),
(79, 'Student 79', 27, 'student79@example.com'),
(80, 'Student 80', 18, 'student80@example.com'),
(81, 'Student 81', 19, 'student81@example.com'),
(82, 'Student 82', 20, 'student82@example.com'),
(83, 'Student 83', 21, 'student83@example.com'),
(84, 'Student 84', 22, 'student84@example.com'),
(85, 'Student 85', 23, 'student85@example.com'),
(86, 'Student 86', 24, 'student86@example.com'),
(87, 'Student 87', 25, 'student87@example.com'),
(88, 'Student 88', 26, 'student88@example.com'),
(89, 'Student 89', 27, 'student89@example.com'),
(90, 'Student 90', 18, 'student90@example.com'),
(91, 'Student 91', 19, 'student91@example.com'),
(92, 'Student 92', 20, 'student92@example.com'),
(93, 'Student 93', 21, 'student93@example.com'),
(94, 'Student 94', 22, 'student94@example.com'),
(95, 'Student 95', 23, 'student95@example.com'),
(96, 'Student 96', 24, 'student96@example.com'),
(97, 'Student 97', 25, 'student97@example.com'),
(98, 'Student 98', 26, 'student98@example.com'),
(99, 'Student 99', 27, 'student99@example.com'),
(100, 'Student 100', 18, 'student100@example.com');

INSERT INTO BorrowRecords (studentId, bookId, borrowDate, returnDate) VALUES
(2, 2, '2025-01-02', '2025-02-02'),
(3, 3, '2025-01-03', '2025-02-03'),
(4, 4, '2025-01-04', NULL),
(5, 5, '2025-01-05', '2025-02-05'),
(6, 6, '2025-01-06', '2025-02-06'),
(7, 7, '2025-01-07', NULL),
(8, 8, '2025-01-08', '2025-02-08'),
(9, 9, '2025-01-09', '2025-02-09'),
(10, 10, '2025-01-10', NULL),
(11, 11, '2025-01-11', '2025-02-11'),
(12, 12, '2025-01-12', '2025-02-12'),
(13, 13, '2025-01-13', NULL),
(14, 14, '2025-01-14', '2025-02-14'),
(15, 15, '2025-01-15', '2025-02-15'),
(16, 16, '2025-01-16', NULL),
(17, 17, '2025-01-17', '2025-02-17'),
(18, 18, '2025-01-18', '2025-02-18'),
(19, 19, '2025-01-19', NULL),
(20, 20, '2025-01-20', '2025-02-20'),
(21, 21, '2025-01-21', '2025-02-21'),
(22, 22, '2025-01-22', NULL),
(23, 23, '2025-01-23', '2025-02-23'),
(24, 24, '2025-01-24', '2025-02-24'),
(25, 25, '2025-01-25', NULL),
(26, 26, '2025-01-26', '2025-02-26'),
(27, 27, '2025-01-27', '2025-02-27'),
(28, 28, '2025-01-28', NULL),
(29, 29, '2025-01-01', '2025-02-01'),
(30, 30, '2025-01-02', '2025-02-02'),
(31, 31, '2025-01-03', NULL),
(32, 32, '2025-01-04', '2025-02-04'),
(33, 33, '2025-01-05', '2025-02-05'),
(34, 34, '2025-01-06', NULL),
(35, 35, '2025-01-07', '2025-02-07'),
(36, 36, '2025-01-08', '2025-02-08'),
(37, 37, '2025-01-09', NULL),
(38, 38, '2025-01-10', '2025-02-10'),
(39, 39, '2025-01-11', '2025-02-11'),
(40, 40, '2025-01-12', NULL),
(41, 41, '2025-01-13', '2025-02-13'),
(42, 42, '2025-01-14', '2025-02-14'),
(43, 43, '2025-01-15', NULL),
(44, 44, '2025-01-16', '2025-02-16'),
(45, 45, '2025-01-17', '2025-02-17'),
(46, 46, '2025-01-18', NULL),
(47, 47, '2025-01-19', '2025-02-19'),
(48, 48, '2025-01-20', '2025-02-20'),
(49, 49, '2025-01-21', NULL),
(50, 50, '2025-01-22', '2025-02-22'),
(51, 51, '2025-01-23', '2025-02-23'),
(52, 52, '2025-01-24', NULL),
(53, 53, '2025-01-25', '2025-02-25'),
(54, 54, '2025-01-26', '2025-02-26'),
(55, 55, '2025-01-27', NULL),
(56, 56, '2025-01-28', '2025-02-28'),
(57, 57, '2025-01-01', '2025-02-01'),
(58, 58, '2025-01-02', NULL),
(59, 59, '2025-01-03', '2025-02-03'),
(60, 60, '2025-01-04', '2025-02-04'),
(61, 61, '2025-01-05', NULL),
(62, 62, '2025-01-06', '2025-02-06'),
(63, 63, '2025-01-07', '2025-02-07'),
(64, 64, '2025-01-08', NULL),
(65, 65, '2025-01-09', '2025-02-09'),
(66, 66, '2025-01-10', '2025-02-10'),
(67, 67, '2025-01-11', NULL),
(68, 68, '2025-01-12', '2025-02-12'),
(69, 69, '2025-01-13', '2025-02-13'),
(70, 70, '2025-01-14', NULL),
(71, 71, '2025-01-15', '2025-02-15'),
(72, 72, '2025-01-16', '2025-02-16'),
(73, 73, '2025-01-17', NULL),
(74, 74, '2025-01-18', '2025-02-18'),
(75, 75, '2025-01-19', '2025-02-19'),
(76, 76, '2025-01-20', NULL),
(77, 77, '2025-01-21', '2025-02-21'),
(78, 78, '2025-01-22', '2025-02-22'),
(79, 79, '2025-01-23', NULL),
(80, 80, '2025-01-24', '2025-02-24'),
(81, 81, '2025-01-25', '2025-02-25'),
(82, 82, '2025-01-26', NULL),
(83, 83, '2025-01-27', '2025-02-27'),
(84, 84, '2025-01-28', '2025-02-28'),
(85, 85, '2025-01-01', NULL),
(86, 86, '2025-01-02', '2025-02-02'),
(87, 87, '2025-01-03', '2025-02-03'),
(88, 88, '2025-01-04', NULL),
(89, 89, '2025-01-05', '2025-02-05'),
(90, 90, '2025-01-06', '2025-02-06'),
(91, 91, '2025-01-07', NULL),
(92, 92, '2025-01-08', '2025-02-08'),
(93, 93, '2025-01-09', '2025-02-09'),
(94, 94, '2025-01-10', NULL),
(95, 95, '2025-01-11', '2025-02-11'),
(96, 96, '2025-01-12', '2025-02-12'),
(97, 97, '2025-01-13', NULL),
(98, 98, '2025-01-14', '2025-02-14'),
(99, 99, '2025-01-15', '2025-02-15'),
(100, 100, '2025-01-16', NULL),
(1, 1, '2025-01-17', '2025-02-17'),
(2, 2, '2025-01-18', '2025-02-18'),
(3, 3, '2025-01-19', NULL),
(4, 4, '2025-01-20', '2025-02-20'),
(5, 5, '2025-01-21', '2025-02-21'),
(6, 6, '2025-01-22', NULL),
(7, 7, '2025-01-23', '2025-02-23'),
(8, 8, '2025-01-24', '2025-02-24'),
(9, 9, '2025-01-25', NULL),
(10, 10, '2025-01-26', '2025-02-26'),
(11, 11, '2025-01-27', '2025-02-27'),
(12, 12, '2025-01-28', NULL),
(13, 13, '2025-01-01', '2025-02-01'),
(14, 14, '2025-01-02', '2025-02-02'),
(15, 15, '2025-01-03', NULL),
(16, 16, '2025-01-04', '2025-02-04'),
(17, 17, '2025-01-05', '2025-02-05'),
(18, 18, '2025-01-06', NULL),
(19, 19, '2025-01-07', '2025-02-07'),
(20, 20, '2025-01-08', '2025-02-08'),
(21, 21, '2025-01-09', NULL),
(22, 22, '2025-01-10', '2025-02-10'),
(23, 23, '2025-01-11', '2025-02-11'),
(24, 24, '2025-01-12', NULL),
(25, 25, '2025-01-13', '2025-02-13'),
(26, 26, '2025-01-14', '2025-02-14'),
(27, 27, '2025-01-15', NULL),
(28, 28, '2025-01-16', '2025-02-16'),
(29, 29, '2025-01-17', '2025-02-17'),
(30, 30, '2025-01-18', NULL),
(31, 31, '2025-01-19', '2025-02-19'),
(32, 32, '2025-01-20', '2025-02-20'),
(33, 33, '2025-01-21', NULL),
(34, 34, '2025-01-22', '2025-02-22'),
(35, 35, '2025-01-23', '2025-02-23'),
(36, 36, '2025-01-24', NULL),
(37, 37, '2025-01-25', '2025-02-25'),
(38, 38, '2025-01-26', '2025-02-26'),
(39, 39, '2025-01-27', NULL),
(40, 40, '2025-01-28', '2025-02-28'),
(41, 41, '2025-01-01', '2025-02-01'),
(42, 42, '2025-01-02', NULL),
(43, 43, '2025-01-03', '2025-02-03'),
(44, 44, '2025-01-04', '2025-02-04'),
(45, 45, '2025-01-05', NULL),
(46, 46, '2025-01-06', '2025-02-06'),
(47, 47, '2025-01-07', '2025-02-07'),
(48, 48, '2025-01-08', NULL),
(49, 49, '2025-01-09', '2025-02-09'),
(50, 50, '2025-01-10', '2025-02-10'),
(51, 51, '2025-01-11', NULL),
(52, 52, '2025-01-12', '2025-02-12'),
(53, 53, '2025-01-13', '2025-02-13'),
(54, 54, '2025-01-14', NULL),
(55, 55, '2025-01-15', '2025-02-15'),
(56, 56, '2025-01-16', '2025-02-16'),
(57, 57, '2025-01-17', NULL),
(58, 58, '2025-01-18', '2025-02-18'),
(59, 59, '2025-01-19', '2025-02-19'),
(60, 60, '2025-01-20', NULL),
(61, 61, '2025-01-21', '2025-02-21'),
(62, 62, '2025-01-22', '2025-02-22'),
(63, 63, '2025-01-23', NULL),
(64, 64, '2025-01-24', '2025-02-24'),
(65, 65, '2025-01-25', '2025-02-25'),
(66, 66, '2025-01-26', NULL),
(67, 67, '2025-01-27', '2025-02-27'),
(68, 68, '2025-01-28', '2025-02-28'),
(69, 69, '2025-01-01', NULL),
(70, 70, '2025-01-02', '2025-02-02'),
(71, 71, '2025-01-03', '2025-02-03'),
(72, 72, '2025-01-04', NULL),
(73, 73, '2025-01-05', '2025-02-05'),
(74, 74, '2025-01-06', '2025-02-06'),
(75, 75, '2025-01-07', NULL),
(76, 76, '2025-01-08', '2025-02-08'),
(77, 77, '2025-01-09', '2025-02-09'),
(78, 78, '2025-01-10', NULL),
(79, 79, '2025-01-11', '2025-02-11'),
(80, 80, '2025-01-12', '2025-02-12'),
(81, 81, '2025-01-13', NULL),
(82, 82, '2025-01-14', '2025-02-14'),
(83, 83, '2025-01-15', '2025-02-15'),
(84, 84, '2025-01-16', NULL),
(85, 85, '2025-01-17', '2025-02-17'),
(86, 86, '2025-01-18', '2025-02-18'),
(87, 87, '2025-01-19', NULL),
(88, 88, '2025-01-20', '2025-02-20'),
(89, 89, '2025-01-21', '2025-02-21'),
(90, 90, '2025-01-22', NULL),
(91, 91, '2025-01-23', '2025-02-23'),
(92, 92, '2025-01-24', '2025-02-24'),
(93, 93, '2025-01-25', NULL),
(94, 94, '2025-01-26', '2025-02-26'),
(95, 95, '2025-01-27', '2025-02-27'),
(96, 96, '2025-01-28', NULL),
(97, 97, '2025-01-01', '2025-02-01'),
(98, 98, '2025-01-02', '2025-02-02'),
(99, 99, '2025-01-03', NULL),
(100, 100, '2025-01-04', '2025-02-04'),
(1, 1, '2025-01-05', '2025-02-05');

select * from students;